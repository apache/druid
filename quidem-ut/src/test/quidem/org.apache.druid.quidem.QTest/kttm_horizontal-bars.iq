#started Wed Jul 10 16:23:38 IST 2024
!use druidtest:///?componentSupplier=KttmNestedComponentSupplier
!set outputformat mysql
# Wed Jul 10 16:24:06 IST 2024
SELECT
MAX(CAST(t."__time" AS TIMESTAMP)) AS "__VALUE__"
FROM "kttm_nested" AS t
GROUP BY ();
+-------------------------+
| __VALUE__               |
+-------------------------+
| 2019-08-25 23:59:58.044 |
+-------------------------+
(1 row)

!ok
# Wed Jul 10 16:24:06 IST 2024
SELECT
MAX(CAST(t."__time" AS TIMESTAMP)) AS "__VALUE__"
FROM "kttm_nested" AS t
GROUP BY ();
+-------------------------+
| __VALUE__               |
+-------------------------+
| 2019-08-25 23:59:58.044 |
+-------------------------+
(1 row)

!ok
# Wed Jul 10 16:24:06 IST 2024
SELECT
(COUNT(*)) AS "__VALUE__"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2024-07-09 10:55:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2024-07-10 10:55:00')
GROUP BY ();
+-----------+
| __VALUE__ |
+-----------+
|         0 |
+-----------+
(1 row)

!ok
# Wed Jul 10 16:24:06 IST 2024
SELECT
(COUNT(*)) AS "__VALUE__"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY ();
+-----------+
| __VALUE__ |
+-----------+
|      4519 |
+-----------+
(1 row)

!ok
# Wed Jul 10 16:24:21 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "count" DESC
LIMIT 1000;
+-----------------------+-------+
| Browser               | count |
+-----------------------+-------+
| Chrome                |  2313 |
| Mobile Safari         |  1052 |
| Chrome Mobile         |   589 |
| Safari                |   386 |
| Firefox               |    72 |
| Yandex.Browser        |    39 |
| Opera                 |    22 |
| Mozilla               |    15 |
| IE                    |    10 |
| Silk                  |     9 |
| Yandex.Browser mobile |     8 |
| PS4 Web browser       |     2 |
| Mobile Firefox        |     1 |
| Puffin                |     1 |
+-----------------------+-------+
(14 rows)

!ok
# Wed Jul 10 16:24:21 IST 2024
SELECT
(COUNT(*)) AS "__VALUE__"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Chrome'))
GROUP BY ();
+-----------+
| __VALUE__ |
+-----------+
|      2313 |
+-----------+
(1 row)

!ok
# Wed Jul 10 16:24:21 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail'))
GROUP BY 1;
+-----------------------+-------+
| Browser               | count |
+-----------------------+-------+
| Chrome Mobile         |   589 |
| Firefox               |    72 |
| IE                    |    10 |
| Mobile Firefox        |     1 |
| Mobile Safari         |  1052 |
| Mozilla               |    15 |
| Opera                 |    22 |
| PS4 Web browser       |     2 |
| Puffin                |     1 |
| Safari                |   386 |
| Silk                  |     9 |
| Yandex.Browser        |    39 |
| Yandex.Browser mobile |     8 |
+-----------------------+-------+
(13 rows)

!ok
# Wed Jul 10 16:24:25 IST 2024
SELECT
CAST(t."app_version" AS VARCHAR) AS "app_version",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "count" DESC
LIMIT 10;
+-------------+-------+
| app_version | count |
+-------------+-------+
| 1.9.6       |  4519 |
+-------------+-------+
(1 row)

!ok
# Wed Jul 10 16:24:25 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND (CAST(t."app_version" AS VARCHAR)='1.9.6'))
GROUP BY 1;
+-----------------------+-------+
| Browser               | count |
+-----------------------+-------+
| Chrome                |  2313 |
| Chrome Mobile         |   589 |
| Firefox               |    72 |
| IE                    |    10 |
| Mobile Firefox        |     1 |
| Mobile Safari         |  1052 |
| Mozilla               |    15 |
| Opera                 |    22 |
| PS4 Web browser       |     2 |
| Puffin                |     1 |
| Safari                |   386 |
| Silk                  |     9 |
| Yandex.Browser        |    39 |
| Yandex.Browser mobile |     8 |
+-----------------------+-------+
(14 rows)

!ok
# Wed Jul 10 16:24:30 IST 2024
SELECT
CAST(t."adblock_list" AS VARCHAR) AS "adblock_list",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "count" DESC
LIMIT 1000;
+----------------------------+-------+
| adblock_list               | count |
+----------------------------+-------+
| NoAdblock                  |  4123 |
| EasyList                   |   394 |
| AntiAdblockKiller          |     1 |
| EasyList,AntiAdblockKiller |     1 |
+----------------------------+-------+
(4 rows)

!ok
# Wed Jul 10 16:24:30 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND (CAST(t."adblock_list" AS VARCHAR)='NoAdblock'))
GROUP BY 1;
+-----------------------+-------+
| Browser               | count |
+-----------------------+-------+
| Chrome                |  1969 |
| Chrome Mobile         |   587 |
| Firefox               |    46 |
| IE                    |    10 |
| Mobile Firefox        |     1 |
| Mobile Safari         |  1049 |
| Mozilla               |    15 |
| Opera                 |     6 |
| PS4 Web browser       |     2 |
| Puffin                |     1 |
| Safari                |   385 |
| Silk                  |     9 |
| Yandex.Browser        |    35 |
| Yandex.Browser mobile |     8 |
+-----------------------+-------+
(14 rows)

!ok
# Wed Jul 10 16:24:30 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."adblock_list" AS VARCHAR) AS "adblock_list",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND (CAST(t."app_version" AS VARCHAR)='1.9.6')) AND CAST(t."adblock_list" AS VARCHAR) IN ('NoAdblock','EasyList','EasyList,AntiAdblockKiller'))
GROUP BY 1,2;
+-----------------------+----------------------------+-------+
| Browser               | adblock_list               | count |
+-----------------------+----------------------------+-------+
| Chrome                | EasyList,AntiAdblockKiller |     1 |
| Chrome Mobile         | EasyList                   |     2 |
| Chrome                | EasyList                   |   343 |
| Chrome                | NoAdblock                  |  1969 |
| Chrome Mobile         | NoAdblock                  |   587 |
| Firefox               | EasyList                   |    26 |
| Firefox               | NoAdblock                  |    46 |
| IE                    | NoAdblock                  |    10 |
| Mobile Firefox        | NoAdblock                  |     1 |
| Mobile Safari         | EasyList                   |     2 |
| Mobile Safari         | NoAdblock                  |  1049 |
| Mozilla               | NoAdblock                  |    15 |
| Opera                 | EasyList                   |    16 |
| Opera                 | NoAdblock                  |     6 |
| PS4 Web browser       | NoAdblock                  |     2 |
| Puffin                | NoAdblock                  |     1 |
| Safari                | EasyList                   |     1 |
| Safari                | NoAdblock                  |   385 |
| Silk                  | NoAdblock                  |     9 |
| Yandex.Browser        | EasyList                   |     4 |
| Yandex.Browser        | NoAdblock                  |    35 |
| Yandex.Browser mobile | NoAdblock                  |     8 |
+-----------------------+----------------------------+-------+
(22 rows)

!ok
# Wed Jul 10 16:24:31 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."adblock_list" AS VARCHAR) AS "adblock_list",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND CAST(t."adblock_list" AS VARCHAR) IN ('EasyList','EasyList,AntiAdblockKiller'))
GROUP BY 1,2;
+----------------+----------------------------+-------+
| Browser        | adblock_list               | count |
+----------------+----------------------------+-------+
| Chrome         | EasyList,AntiAdblockKiller |     1 |
| Chrome Mobile  | EasyList                   |     2 |
| Chrome         | EasyList                   |   343 |
| Firefox        | EasyList                   |    26 |
| Mobile Safari  | EasyList                   |     2 |
| Opera          | EasyList                   |    16 |
| Safari         | EasyList                   |     1 |
| Yandex.Browser | EasyList                   |     4 |
+----------------+----------------------------+-------+
(8 rows)

!ok
# Wed Jul 10 16:24:36 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."adblock_list" AS VARCHAR) AS "adblock_list",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND CAST(t."adblock_list" AS VARCHAR) IN ('NoAdblock','EasyList','EasyList,AntiAdblockKiller'))
GROUP BY 1,2;
+---------+--------------+-------+
| Browser | adblock_list | count |
+---------+--------------+-------+
+---------+--------------+-------+
(0 rows)

!ok
# Wed Jul 10 16:24:37 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."adblock_list" AS VARCHAR) AS "adblock_list",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((((TIMESTAMP '2019-08-24 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari','Firefox','Yandex.Browser','Opera','IE','Mozilla','Silk','Yandex.Browser mobile','Mobile Firefox','Puffin','Chromium','Waterfox','Opera Mobile','PS4 Web browser','Android browser','Sogou Explorer','IE Mobile','Maxthon','PS Vita browser','unknown','','Apple Mail')) AND (CAST(t."app_version" AS VARCHAR)='1.9.6')) AND CAST(t."adblock_list" AS VARCHAR) IN ('NoAdblock','EasyList','EasyList,AntiAdblockKiller'))
GROUP BY 1,2;
+---------+--------------+-------+
| Browser | adblock_list | count |
+---------+--------------+-------+
+---------+--------------+-------+
(0 rows)

!ok
