# testSemiJoinWithOuterTimeExtractScan@NullHandling=sql case-crc:f91c4c1d
# quidem testcase reason: SLIGHTLY_WORSE_FILTER_PUSHED_TO_JOIN_OPERAND
!set debug true
!set defaultTimeout 300000
!set maxScatterGatherBytes 9223372036854775807
!set plannerStrategy DECOUPLED
!set sqlCurrentTimestamp 2000-01-01T00:00:00Z
!set sqlQueryId dummy
!set outputformat mysql
!use druidtest:///
SELECT dim1, EXTRACT(MONTH FROM __time) FROM druid.foo
 WHERE dim2 IN (
   SELECT dim2
   FROM druid.foo
   WHERE dim1 = 'def'
 ) AND dim1 <> '';
!ok
!logicalPlan
!druidPlan
!nativePlan
