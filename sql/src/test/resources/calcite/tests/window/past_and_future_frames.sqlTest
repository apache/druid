type: "failingTest"

sql: |
  SELECT
    m1,
    FLOOR(m1/3),
    -- incorrect range frames https://github.com/apache/druid/issues/15739
    1 >= COUNT(1) OVER (ORDER BY m1 ROWS BETWEEN 1 PRECEDING AND 1 PRECEDING), 
    1 >= COUNT(1) OVER (ORDER BY m1 ROWS BETWEEN 1 FOLLOWING AND 1 FOLLOWING),
    1 >= COUNT(1) OVER (ORDER BY m1 RANGE BETWEEN 1 PRECEDING AND 1 PRECEDING), 
    1 >= COUNT(1) OVER (ORDER BY m1 RANGE BETWEEN 1 FOLLOWING AND 1 FOLLOWING),
    -- not sure if this should be allowed or not; but if its allowed it should be 0
    0 = COUNT(1) OVER (ORDER BY FLOOR(m1/3) ROWS BETWEEN 2 FOLLOWING AND 1 FOLLOWING),
    -- these must match as m1 will be 10/20..etc  https://github.com/apache/druid/issues/15767
    m1 = SUM(m1) OVER (ORDER BY FLOOR(m1*10) RANGE BETWEEN 1 PRECEDING AND 1 FOLLOWING)  
  FROM foo

expectedResults:
  - [1.0,0.0,true,true,true,true,true,true]
  - [2.0,0.0,true,true,true,true,true,true]
  - [3.0,1.0,true,true,true,true,true,true]
  - [4.0,1.0,true,true,true,true,true,true]
  - [5.0,1.0,true,true,true,true,true,true]
  - [6.0,2.0,true,true,true,true,true,true]
