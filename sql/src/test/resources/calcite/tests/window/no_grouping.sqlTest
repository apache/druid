type: "operatorValidation"

sql: |
  SELECT
    dim1,
    COUNT(dim1) OVER () cc
  FROM druid.foo
  WHERE dim1>'0'

expectedOperators:
  - type: "naivePartition"
    partitionColumns: []
  - type: "window"
    processor:
      type: "framedAgg"
      frame: { peerType: "ROWS", lowUnbounded: true, lowOffset: 0, uppUnbounded: true, uppOffset: 0 }
      aggregations:
        - type: "filtered"
          aggregator: {"type":"count","name":"w0"}
          filter:
            type: not
            field: {"type":"null","column":"dim1"}
          name: null
expectedResults:
  - ["10.1",5]
  - ["2",5]
  - ["1",5]
  - ["def",5]
  - ["abc",5]
  