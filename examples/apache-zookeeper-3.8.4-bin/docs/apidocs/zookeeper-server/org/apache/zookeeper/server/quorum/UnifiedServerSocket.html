<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.21) on Mon Feb 12 22:16:29 UTC 2024 -->
<title>UnifiedServerSocket (Apache ZooKeeper - Server 3.8.4 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-02-12">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UnifiedServerSocket (Apache ZooKeeper - Server 3.8.4 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UnifiedServerSocket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.zookeeper.server.quorum</a></div>
<h2 title="Class UnifiedServerSocket" class="title">Class UnifiedServerSocket</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net" class="externalLink">java.net.ServerSocket</a></li>
<li>
<ul class="inheritance">
<li>org.apache.zookeeper.server.quorum.UnifiedServerSocket</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io" class="externalLink">Closeable</a></code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">UnifiedServerSocket</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net" class="externalLink">ServerSocket</a></pre>
<div class="block">A ServerSocket that can act either as a regular ServerSocket, as a SSLServerSocket, or as both, depending on
 the constructor parameters and on the type of client (TLS or plaintext) that connects to it.
 The constructors have the same signature as constructors of ServerSocket, with the addition of two parameters
 at the beginning:
 <ul>
     <li>X509Util - provides the SSL context to construct a secure socket when a client connects with TLS.</li>
     <li>boolean allowInsecureConnection - when true, acts as a hybrid server socket (plaintext / TLS). When
         false, acts as a SSLServerSocket (rejects plaintext connections).</li>
 </ul>
 The <code>!allowInsecureConnection</code> mode is needed so we can update the SSLContext (in particular, the
 key store and/or trust store) without having to re-create the server socket. By starting with a plaintext socket
 and delaying the upgrade to TLS until after a client has connected and begins a handshake, we can keep the same
 UnifiedServerSocket instance around, and replace the default SSLContext in the provided X509Util when the key store
 and/or trust store file changes on disk.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="UnifiedServerSocket.UnifiedSocket.html" title="class in org.apache.zookeeper.server.quorum">UnifiedServerSocket.UnifiedSocket</a></span></code></th>
<td class="colLast">
<div class="block">The result of calling accept() on a UnifiedServerSocket.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.zookeeper.common.X509Util,boolean)">UnifiedServerSocket</a></span>&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection)</code></th>
<td class="colLast">
<div class="block">Creates an unbound unified server socket by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init---" title="class or interface in java.net" class="externalLink"><code>ServerSocket()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.zookeeper.common.X509Util,boolean,int)">UnifiedServerSocket</a></span>&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port)</code></th>
<td class="colLast">
<div class="block">Creates a unified server socket bound to the specified port by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.zookeeper.common.X509Util,boolean,int,int)">UnifiedServerSocket</a></span>&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port,
                   int&nbsp;backlog)</code></th>
<td class="colLast">
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, by calling
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.zookeeper.common.X509Util,boolean,int,int,java.net.InetAddress)">UnifiedServerSocket</a></span>&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port,
                   int&nbsp;backlog,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net" class="externalLink">InetAddress</a>&nbsp;bindAddr)</code></th>
<td class="colLast">
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, and local IP address
 to bind to, by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-java.net.InetAddress-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int, InetAddress)</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net" class="externalLink">Socket</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accept()">accept</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.net.ServerSocket">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.net.<a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net" class="externalLink">ServerSocket</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#bind-java.net.SocketAddress-" title="class or interface in java.net" class="externalLink">bind</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#bind-java.net.SocketAddress-int-" title="class or interface in java.net" class="externalLink">bind</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#close--" title="class or interface in java.net" class="externalLink">close</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getChannel--" title="class or interface in java.net" class="externalLink">getChannel</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getInetAddress--" title="class or interface in java.net" class="externalLink">getInetAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getLocalPort--" title="class or interface in java.net" class="externalLink">getLocalPort</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getLocalSocketAddress--" title="class or interface in java.net" class="externalLink">getLocalSocketAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getReceiveBufferSize--" title="class or interface in java.net" class="externalLink">getReceiveBufferSize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getReuseAddress--" title="class or interface in java.net" class="externalLink">getReuseAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getSoTimeout--" title="class or interface in java.net" class="externalLink">getSoTimeout</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#implAccept-java.net.Socket-" title="class or interface in java.net" class="externalLink">implAccept</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#isBound--" title="class or interface in java.net" class="externalLink">isBound</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#isClosed--" title="class or interface in java.net" class="externalLink">isClosed</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setPerformancePreferences-int-int-int-" title="class or interface in java.net" class="externalLink">setPerformancePreferences</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setReceiveBufferSize-int-" title="class or interface in java.net" class="externalLink">setReceiveBufferSize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setReuseAddress-boolean-" title="class or interface in java.net" class="externalLink">setReuseAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setSocketFactory-java.net.SocketImplFactory-" title="class or interface in java.net" class="externalLink">setSocketFactory</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setSoTimeout-int-" title="class or interface in java.net" class="externalLink">setSoTimeout</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#toString--" title="class or interface in java.net" class="externalLink">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.zookeeper.common.X509Util,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Creates an unbound unified server socket by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init---" title="class or interface in java.net" class="externalLink"><code>ServerSocket()</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init---" title="class or interface in java.net" class="externalLink"><code>ServerSocket()</code></a> throws.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.zookeeper.common.X509Util,boolean,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int)</code></a> throws.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.zookeeper.common.X509Util,boolean,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port,
                           int&nbsp;backlog)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, by calling
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dd><code>backlog</code> - requested maximum length of the queue of incoming connections.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int)</code></a> throws.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.zookeeper.common.X509Util,boolean,int,int,java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket&#8203;(<a href="../../common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port,
                           int&nbsp;backlog,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net" class="externalLink">InetAddress</a>&nbsp;bindAddr)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, and local IP address
 to bind to, by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-java.net.InetAddress-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int, InetAddress)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dd><code>backlog</code> - requested maximum length of the queue of incoming connections.</dd>
<dd><code>bindAddr</code> - the local InetAddress the server will bind to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#-init--int-int-java.net.InetAddress-" title="class or interface in java.net" class="externalLink"><code>ServerSocket(int, int, InetAddress)</code></a> throws.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="accept()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>accept</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net" class="externalLink">Socket</a>&nbsp;accept()
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#accept--" title="class or interface in java.net" class="externalLink">accept</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net" class="externalLink">ServerSocket</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UnifiedServerSocket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
