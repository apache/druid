{
  "type": "index_hadoop",
  "spec": {
    "dataSchema": {
      "dataSource": "batchHadoop",
      "parser": {
        "type": "string",
        "parseSpec": {
          "type": "tsv",
          "timestampSpec": {
            "column": "timestamp",
            "format": "yyyyMMddHH"
          },
          "dimensionsSpec": {
            "dimensions": [
              "dim1",
              "dim2",
              "dim3",
              "dim4",
              "dim5",
              "dim6",
              "dim7",
              "dim8",
              "dim9",
              "dimA",
              "dimB",
              "dimC",
              "dimD"
            ]
          },
          "columns": [
            "timestamp",
            "dim1",
            "dim2",
            "dim3",
            "dim4",
            "dim5",
            "dim6",
            "dim7",
            "dim8",
            "dim9",
            "dimA",
            "dimB",
            "dimC",
            "dimD",
            "m00000000",
            "m1111_1111_11111",
            "m2222222_2222_22222",
            "m333333_33_3333_333333",
            "m444444_4444_4444_444444",
            "m555_555555",
            "m666_666666"
          ]
        }
      },
      "metricsSpec": [
        {
          "type": "longSum",
          "name": "m00000000",
          "fieldName": "m00000000"
        },
        {
          "type": "longSum",
          "name": "m1111_1111_11111",
          "fieldName": "m1111_1111_11111"
        },
        {
          "type": "longSum",
          "name": "m2222222_2222_22222",
          "fieldName": "m2222222_2222_22222"
        },
        {
          "type": "sketchMerge",
          "name": "m333333_33_3333_333333",
          "fieldName": "m333333_33_3333_333333",
          "size": 16384
        },
        {
          "type": "sketchMerge",
          "name": "m444444_4444_4444_444444",
          "fieldName": "m444444_4444_4444_444444",
          "size": 16384
        },
        {
          "type": "sketchMerge",
          "name": "m555_555555",
          "fieldName": "m555_555555",
          "size": 16384
        },
        {
          "type": "sketchMerge",
          "name": "m666_666666",
          "fieldName": "m666_666666",
          "size": 16384
        }
      ],
      "granularitySpec": {
        "type": "uniform",
        "segmentGranularity": "DAY",
        "queryGranularity": "DAY",
        "intervals": [
          "2014-10-20T00:00:00Z/P2W"
        ]
      }
    },
    "ioConfig": {
      "type": "hadoop",
      "inputSpec": {
        "type": "static",
        "paths": "%%HADOOP_TEST_PATH%%"
      }
    },
    "tuningConfig": {
      "type": "hadoop",
      "partitionsSpec": {
        "assumeGrouped": true,
        "targetPartitionSize": 75000,
        "type": "hashed"
      },
      "jobProperties": {
        "fs.permissions.umask-mode": "022"
      },
      "rowFlushBoundary": 10000
    }
  }
}
