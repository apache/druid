language: java

jdk:
  - oraclejdk8

before_install: sudo echo "MAVEN_OPTS='-Xmx4096m -Xms1024m'" > ~/.mavenrc

script:
  - mvn test -B -Pparallel-test -Dmaven.fork.count=2 && mvn clean -Pstrict compile test-compile -B

env:
  global:
    - MAVEN_OPTS: "-Xmx4096m -Xms1024m"

sudo: required

cache:
  directories:
      - $HOME/.m2

